{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { Children, useCallback, useContext, useEffect, useState, useRef } from 'react';\nimport { normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { ThemeContext } from '../../contexts';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Keyboard } from '../Keyboard';\nimport { Stack } from '../Stack';\n\nvar Carousel = function Carousel(_ref) {\n  var activeChild = _ref.activeChild,\n      initialChild = _ref.initialChild,\n      onChild = _ref.onChild,\n      play = _ref.play,\n      children = _ref.children,\n      controls = _ref.controls,\n      fill = _ref.fill,\n      _onFocus = _ref.onFocus,\n      _onBlur = _ref.onBlur,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"activeChild\", \"initialChild\", \"onChild\", \"play\", \"children\", \"controls\", \"fill\", \"onFocus\", \"onBlur\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useState = useState(),\n      focus = _useState[0],\n      setFocus = _useState[1];\n\n  var timerRef = useRef();\n\n  var _useState2 = useState({\n    activeIndex: activeChild !== undefined ? activeChild : initialChild\n  }),\n      indexes = _useState2[0],\n      setIndexes = _useState2[1];\n\n  var activeIndex = indexes.activeIndex,\n      priorActiveIndex = indexes.priorActiveIndex;\n  var lastIndex = Children.count(children) - 1;\n\n  if (activeIndex !== activeChild && activeChild !== undefined) {\n    if (activeChild >= 0 && activeChild <= lastIndex) {\n      setIndexes({\n        activeIndex: activeChild,\n        priorActiveIndex: activeIndex\n      });\n    }\n  }\n\n  var onChildChange = useCallback(function (index) {\n    if (onChild) {\n      onChild(index);\n    }\n  }, [onChild]);\n  useEffect(function () {\n    if (play) {\n      var timer = setInterval(function () {\n        if (activeIndex < lastIndex) {\n          setIndexes({\n            activeIndex: activeIndex + 1,\n            priorActiveIndex: activeIndex\n          });\n          onChildChange(activeIndex + 1);\n        } else {\n          setIndexes({\n            activeIndex: 0,\n            priorActiveIndex: activeIndex\n          });\n          onChildChange(0);\n        }\n      }, play);\n      timerRef.current = timer;\n      return function () {\n        clearTimeout(timer);\n      };\n    }\n\n    return function () {};\n  }, [activeIndex, play, children, lastIndex, onChildChange]);\n\n  var onRight = function onRight() {\n    if (activeIndex >= lastIndex) {\n      return;\n    }\n\n    clearInterval(timerRef.current);\n    setIndexes({\n      activeIndex: activeIndex + 1,\n      priorActiveIndex: activeIndex\n    });\n    onChildChange(activeIndex + 1);\n  };\n\n  var onLeft = function onLeft() {\n    if (activeIndex <= 0) {\n      return;\n    }\n\n    clearInterval(timerRef.current);\n    setIndexes({\n      activeIndex: activeIndex - 1,\n      priorActiveIndex: activeIndex\n    });\n    onChildChange(activeIndex - 1);\n  };\n\n  var onSelect = function onSelect(index) {\n    return function () {\n      if (activeIndex !== index) {\n        clearInterval(timerRef.current);\n        setIndexes({\n          activeIndex: index,\n          priorActiveIndex: activeIndex\n        });\n        onChildChange(index);\n      }\n    };\n  };\n\n  var showArrows = controls && controls !== 'selectors';\n  var showSelectors = controls && controls !== 'arrows';\n  var CurrentIcon = theme.carousel.icons.current;\n  var iconColor = normalizeColor(theme.carousel.icons.color || 'control', theme);\n  var selectors = [];\n  var wrappedChildren = Children.map(children, function (child, index) {\n    selectors.push( /*#__PURE__*/React.createElement(Button // eslint-disable-next-line react/no-array-index-key\n    , {\n      key: index,\n      icon: /*#__PURE__*/React.createElement(CurrentIcon, {\n        color: activeIndex === index ? iconColor : undefined\n      }),\n      onClick: onSelect(index)\n    }));\n    var animation;\n\n    if (index === activeIndex) {\n      if (priorActiveIndex !== undefined) {\n        animation = {\n          type: priorActiveIndex < activeIndex ? 'slideLeft' : 'slideRight',\n          size: 'xlarge',\n          duration: theme.carousel.animation.duration\n        };\n      }\n    } else if (index === priorActiveIndex) {\n      animation = {\n        type: 'fadeOut',\n        duration: theme.carousel.animation.duration\n      };\n    } else {\n      animation = {\n        type: 'fadeOut',\n        duration: 0\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(Box, {\n      fill: fill,\n      overflow: \"hidden\"\n    }, /*#__PURE__*/React.createElement(Box, {\n      fill: fill,\n      animation: animation\n    }, child));\n  });\n  var NextIcon = theme.carousel.icons.next;\n  var PreviousIcon = theme.carousel.icons.previous;\n  var nextIconDisabled = activeIndex >= lastIndex;\n  var previousIconDisabled = activeIndex <= 0;\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onLeft: onLeft,\n    onRight: onRight\n  }, /*#__PURE__*/React.createElement(Stack, _extends({\n    guidingChild: activeIndex,\n    fill: fill\n  }, rest), wrappedChildren, /*#__PURE__*/React.createElement(Box, {\n    tabIndex: \"0\",\n    focus: focus,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      if (_onBlur) _onBlur(event);\n    },\n    fill: true,\n    direction: \"row\",\n    justify: \"between\"\n  }, showArrows && /*#__PURE__*/React.createElement(Button, {\n    fill: \"vertical\",\n    icon: /*#__PURE__*/React.createElement(PreviousIcon, {\n      color: normalizeColor(previousIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    plain: true,\n    disabled: previousIconDisabled,\n    onClick: onLeft,\n    hoverIndicator: true\n  }), showSelectors && /*#__PURE__*/React.createElement(Box, {\n    justify: \"end\",\n    fill: !showArrows && 'horizontal'\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    justify: \"center\"\n  }, selectors)), showArrows && /*#__PURE__*/React.createElement(Button, {\n    fill: \"vertical\",\n    icon: /*#__PURE__*/React.createElement(NextIcon, {\n      color: normalizeColor(nextIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    plain: true,\n    disabled: nextIconDisabled,\n    onClick: onRight,\n    hoverIndicator: true\n  }))));\n};\n\nCarousel.defaultProps = {\n  initialChild: 0,\n  controls: true\n};\nObject.setPrototypeOf(Carousel.defaultProps, defaultProps);\nCarousel.displayName = 'Carousel';\nvar CarouselDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  CarouselDoc = require('./doc').doc(Carousel);\n}\n\nvar CarouselWrapper = CarouselDoc || Carousel;\nexport { CarouselWrapper as Carousel };","map":{"version":3,"sources":["E:/react/my-app/node_modules/grommet/es6/components/Carousel/Carousel.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","Children","useCallback","useContext","useEffect","useState","useRef","normalizeColor","defaultProps","ThemeContext","Box","Button","Keyboard","Stack","Carousel","_ref","activeChild","initialChild","onChild","play","children","controls","fill","_onFocus","onFocus","_onBlur","onBlur","rest","theme","_useState","focus","setFocus","timerRef","_useState2","activeIndex","undefined","indexes","setIndexes","priorActiveIndex","lastIndex","count","onChildChange","index","timer","setInterval","current","clearTimeout","onRight","clearInterval","onLeft","onSelect","showArrows","showSelectors","CurrentIcon","carousel","icons","iconColor","color","selectors","wrappedChildren","map","child","push","createElement","icon","onClick","animation","type","size","duration","overflow","NextIcon","next","PreviousIcon","previous","nextIconDisabled","previousIconDisabled","guidingChild","tabIndex","event","direction","justify","disabled","plain","hoverIndicator","setPrototypeOf","displayName","CarouselDoc","process","env","NODE_ENV","require","doc","CarouselWrapper"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { Children, useCallback, useContext, useEffect, useState, useRef } from 'react';\nimport { normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { ThemeContext } from '../../contexts';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Keyboard } from '../Keyboard';\nimport { Stack } from '../Stack';\n\nvar Carousel = function Carousel(_ref) {\n  var activeChild = _ref.activeChild,\n      initialChild = _ref.initialChild,\n      onChild = _ref.onChild,\n      play = _ref.play,\n      children = _ref.children,\n      controls = _ref.controls,\n      fill = _ref.fill,\n      _onFocus = _ref.onFocus,\n      _onBlur = _ref.onBlur,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"activeChild\", \"initialChild\", \"onChild\", \"play\", \"children\", \"controls\", \"fill\", \"onFocus\", \"onBlur\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useState = useState(),\n      focus = _useState[0],\n      setFocus = _useState[1];\n\n  var timerRef = useRef();\n\n  var _useState2 = useState({\n    activeIndex: activeChild !== undefined ? activeChild : initialChild\n  }),\n      indexes = _useState2[0],\n      setIndexes = _useState2[1];\n\n  var activeIndex = indexes.activeIndex,\n      priorActiveIndex = indexes.priorActiveIndex;\n  var lastIndex = Children.count(children) - 1;\n\n  if (activeIndex !== activeChild && activeChild !== undefined) {\n    if (activeChild >= 0 && activeChild <= lastIndex) {\n      setIndexes({\n        activeIndex: activeChild,\n        priorActiveIndex: activeIndex\n      });\n    }\n  }\n\n  var onChildChange = useCallback(function (index) {\n    if (onChild) {\n      onChild(index);\n    }\n  }, [onChild]);\n  useEffect(function () {\n    if (play) {\n      var timer = setInterval(function () {\n        if (activeIndex < lastIndex) {\n          setIndexes({\n            activeIndex: activeIndex + 1,\n            priorActiveIndex: activeIndex\n          });\n          onChildChange(activeIndex + 1);\n        } else {\n          setIndexes({\n            activeIndex: 0,\n            priorActiveIndex: activeIndex\n          });\n          onChildChange(0);\n        }\n      }, play);\n      timerRef.current = timer;\n      return function () {\n        clearTimeout(timer);\n      };\n    }\n\n    return function () {};\n  }, [activeIndex, play, children, lastIndex, onChildChange]);\n\n  var onRight = function onRight() {\n    if (activeIndex >= lastIndex) {\n      return;\n    }\n\n    clearInterval(timerRef.current);\n    setIndexes({\n      activeIndex: activeIndex + 1,\n      priorActiveIndex: activeIndex\n    });\n    onChildChange(activeIndex + 1);\n  };\n\n  var onLeft = function onLeft() {\n    if (activeIndex <= 0) {\n      return;\n    }\n\n    clearInterval(timerRef.current);\n    setIndexes({\n      activeIndex: activeIndex - 1,\n      priorActiveIndex: activeIndex\n    });\n    onChildChange(activeIndex - 1);\n  };\n\n  var onSelect = function onSelect(index) {\n    return function () {\n      if (activeIndex !== index) {\n        clearInterval(timerRef.current);\n        setIndexes({\n          activeIndex: index,\n          priorActiveIndex: activeIndex\n        });\n        onChildChange(index);\n      }\n    };\n  };\n\n  var showArrows = controls && controls !== 'selectors';\n  var showSelectors = controls && controls !== 'arrows';\n  var CurrentIcon = theme.carousel.icons.current;\n  var iconColor = normalizeColor(theme.carousel.icons.color || 'control', theme);\n  var selectors = [];\n  var wrappedChildren = Children.map(children, function (child, index) {\n    selectors.push( /*#__PURE__*/React.createElement(Button // eslint-disable-next-line react/no-array-index-key\n    , {\n      key: index,\n      icon: /*#__PURE__*/React.createElement(CurrentIcon, {\n        color: activeIndex === index ? iconColor : undefined\n      }),\n      onClick: onSelect(index)\n    }));\n    var animation;\n\n    if (index === activeIndex) {\n      if (priorActiveIndex !== undefined) {\n        animation = {\n          type: priorActiveIndex < activeIndex ? 'slideLeft' : 'slideRight',\n          size: 'xlarge',\n          duration: theme.carousel.animation.duration\n        };\n      }\n    } else if (index === priorActiveIndex) {\n      animation = {\n        type: 'fadeOut',\n        duration: theme.carousel.animation.duration\n      };\n    } else {\n      animation = {\n        type: 'fadeOut',\n        duration: 0\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(Box, {\n      fill: fill,\n      overflow: \"hidden\"\n    }, /*#__PURE__*/React.createElement(Box, {\n      fill: fill,\n      animation: animation\n    }, child));\n  });\n  var NextIcon = theme.carousel.icons.next;\n  var PreviousIcon = theme.carousel.icons.previous;\n  var nextIconDisabled = activeIndex >= lastIndex;\n  var previousIconDisabled = activeIndex <= 0;\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onLeft: onLeft,\n    onRight: onRight\n  }, /*#__PURE__*/React.createElement(Stack, _extends({\n    guidingChild: activeIndex,\n    fill: fill\n  }, rest), wrappedChildren, /*#__PURE__*/React.createElement(Box, {\n    tabIndex: \"0\",\n    focus: focus,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      if (_onBlur) _onBlur(event);\n    },\n    fill: true,\n    direction: \"row\",\n    justify: \"between\"\n  }, showArrows && /*#__PURE__*/React.createElement(Button, {\n    fill: \"vertical\",\n    icon: /*#__PURE__*/React.createElement(PreviousIcon, {\n      color: normalizeColor(previousIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    plain: true,\n    disabled: previousIconDisabled,\n    onClick: onLeft,\n    hoverIndicator: true\n  }), showSelectors && /*#__PURE__*/React.createElement(Box, {\n    justify: \"end\",\n    fill: !showArrows && 'horizontal'\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    justify: \"center\"\n  }, selectors)), showArrows && /*#__PURE__*/React.createElement(Button, {\n    fill: \"vertical\",\n    icon: /*#__PURE__*/React.createElement(NextIcon, {\n      color: normalizeColor(nextIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    plain: true,\n    disabled: nextIconDisabled,\n    onClick: onRight,\n    hoverIndicator: true\n  }))));\n};\n\nCarousel.defaultProps = {\n  initialChild: 0,\n  controls: true\n};\nObject.setPrototypeOf(Carousel.defaultProps, defaultProps);\nCarousel.displayName = 'Carousel';\nvar CarouselDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  CarouselDoc = require('./doc').doc(Carousel);\n}\n\nvar CarouselWrapper = CarouselDoc || Carousel;\nexport { CarouselWrapper as Carousel };"]},"metadata":{},"sourceType":"module"}